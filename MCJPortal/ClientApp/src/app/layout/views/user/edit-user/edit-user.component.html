<div class="container">
  <form [formGroup]="profileForm" name="profileForm" id="profileForm">
    <div class="form-group row">
      <label for="username" class="col-sm-1-12 col-form-label">User name</label>
      <div class="col-sm-1-12  ">
        <input
          type="text"
          class="form-control"
          name="username"
          id="username"
          placeholder="required"
          formControlName="userName"
        />
      </div>
      <error-message
        [control]="profileForm.controls.userName"
        *ngIf="submitted"
      ></error-message>
    </div>
    <div class="form-group row">
      <label for="firstname" class="col-sm-1-12 col-form-label">First name</label>
      <div class="col-sm-1-12  ">
        <input
          type="text"
          class="form-control"
          name="firstname"
          id="firstname"
          placeholder="required"
          formControlName="firstName"
        />
        <error-message
          [control]="profileForm.controls.firstName"
          *ngIf="submitted"
        ></error-message>
      </div>
    </div>
    <div class="form-group row">
      <label for="lastname" class="col-sm-1-12 col-form-label">Last name</label>
      <div class="col-sm-1-12  ">
        <input
          type="text"
          class="form-control"
          name="lastname"
          id="lastname"
          placeholder="required"
          formControlName="lastName"
        />
        <error-message
          [control]="profileForm.controls.lastName"
          *ngIf="submitted"
        ></error-message>
      </div>
    </div>
    <div class="form-group row">
      <label for="password" class="col-sm-1-12 col-form-label">Password</label>
      <div class="col-sm-1-12  ">
        <input
          type="text"
          class="form-control"
          name="password"
          id="password"
          placeholder="required"
          formControlName="password"
        />
        <error-message
          [control]="profileForm.controls.password"
          *ngIf="submitted"
        ></error-message>
      </div>
    </div>
    <div class="form-group row">
      <label for="email" class="col-sm-1-12 col-form-label">Email</label>
      <div class="col-sm-1-12  ">
        <input
          type="text"
          class="form-control"
          name="email"
          id="email"
          placeholder=""
          formControlName="email"
        />
        <error-message
          [control]="profileForm.controls.email"
          *ngIf="submitted"
        ></error-message>
      </div>
    </div>
    <div class="form-group row">
      <label for="role" class="col-sm-1-12 col-form-label">Roles</label>
      
        <kendo-dropdownlist
          class="w-100"
          name="role"
          id="role"
          [data]="roles | async"
          [textField]="'name'"
          [valueField]="'id'"
          [valuePrimitive]="true"
          formControlName="roleId"
          [loading]="rolesIsLoading"
          [defaultItem]="{ name: 'Select role ...', id: '' }"
        ></kendo-dropdownlist>
        <error-message
          [control]="profileForm.controls.roleId"
          *ngIf="submitted"
        ></error-message>
      
    </div>
    <div class="form-group row">
      <label for="location">Location</label>
        <kendo-dropdownlist
          class="w-100"
          name="location"
          id="location"
          [textField]="'name'"
          [valueField]="'id'"
          [data]="locations"
          [loading]="locationsIsLoading"
          [valuePrimitive]="true"
          formControlName="countryId"
          [defaultItem]="{ value: 'Select location ...', id: '' }"
        >
        </kendo-dropdownlist>
        <error-message
          [control]="profileForm.controls.countryId"
          *ngIf="submitted"
        ></error-message>
    </div>
    <div class="form-group row">
      <label class="form-check-label">
        <input
          type="checkbox"
          class="form-check-input ml-3"
          name="active"
          id="active"
          value="active"
          formControlName="isActive"
        />
        Active
      </label>
    </div>
    <div class="form-group row">
      <label class="form-check-label">
        <input
          type="checkbox"
          class="form-check-input ml-3"
          name="all-projects"
          id="all-projects"
          value="all-projects"
          formControlName="isAllProjectsAllowed"
        />
        Select all projects
      </label>
    </div>
    <div class="form-group row" *ngIf="!profileForm.value.isAllProjectsAllowed">
      <kendo-grid
        [data]="projects | async"
        [loading]="projectsIsLoading"
        [selectable]="true"
        kendoGridSelectBy="id"
        [selectedKeys]="selectedProjects"
      >
        <kendo-grid-checkbox-column [width]="40"> </kendo-grid-checkbox-column>
        <kendo-grid-column
          title="Project name"
          field="name"
        ></kendo-grid-column>
      </kendo-grid>
    </div>
  </form>
</div>
